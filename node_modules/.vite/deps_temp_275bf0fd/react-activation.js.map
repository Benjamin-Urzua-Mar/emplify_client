{
  "version": 3,
  "sources": ["../../@babel/runtime/helpers/interopRequireDefault.js", "../../@babel/runtime/helpers/arrayLikeToArray.js", "../../@babel/runtime/helpers/arrayWithoutHoles.js", "../../@babel/runtime/helpers/iterableToArray.js", "../../@babel/runtime/helpers/unsupportedIterableToArray.js", "../../@babel/runtime/helpers/nonIterableSpread.js", "../../@babel/runtime/helpers/toConsumableArray.js", "../../szfe-tools/lib/isArray.js", "../../szfe-tools/lib/flatten.js", "../../szfe-tools/lib/isString.js", "../../szfe-tools/lib/isUndefined.js", "../../szfe-tools/lib/isNaN.js", "../../szfe-tools/lib/isNumber.js", "../../szfe-tools/lib/get.js", "../../szfe-tools/lib/isFunction.js", "../../szfe-tools/lib/run.js", "../../szfe-tools/lib/debounce.js", "../../gud/index.js", "../../warning/warning.js", "../../react-activation/node_modules/create-react-context/lib/implementation.js", "../../react-activation/node_modules/create-react-context/lib/index.js", "../../@babel/runtime/helpers/typeof.js", "../../@babel/runtime/helpers/toPrimitive.js", "../../@babel/runtime/helpers/toPropertyKey.js", "../../@babel/runtime/helpers/defineProperty.js", "../../@babel/runtime/helpers/classCallCheck.js", "../../szfe-tools/lib/EventBus.js", "../../szfe-tools/lib/nextTick.js", "../../szfe-tools/lib/isNull.js", "../../szfe-tools/lib/isExist.js", "../../szfe-tools/lib/memoize.js", "../../szfe-tools/lib/isObject.js", "../../hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js", "../../szfe-tools/lib/value.js", "../../szfe-tools/lib/globalThis.js", "../../react-node-key/src/helpers/index.js", "../../react-node-key/src/core/NodeKey/getKeyByFiberNode.js", "../../react-node-key/src/core/NodeKey/getKeyByPreactNode.js", "../../react-node-key/src/core/NodeKey/index.js", "../../react-node-key/index.js", "../../react-activation/src/helpers/is/index.js", "../../react-activation/src/core/context/reactContext.js", "../../react-activation/src/core/context/FakeScopeContext.js", "../../react-activation/src/core/context/index.js", "../../react-activation/src/core/Freeze.js", "../../react-activation/src/core/Bridge/Context/fixContext.js", "../../react-activation/src/core/Bridge/Context/ProviderBridge.js", "../../react-activation/src/core/Bridge/Context/ConsumerWrapper.js", "../../react-activation/src/core/Bridge/Context/ConsumerBridge.js", "../../react-activation/src/core/Bridge/Suspense.js", "../../react-activation/src/core/Bridge/ErrorBoundary.js", "../../react-activation/src/core/Bridge/index.js", "../../react-activation/src/core/lifecycles.js", "../../react-activation/src/core/Keeper.js", "../../react-activation/src/core/AliveScope.js", "../../react-activation/src/core/withAliveScope.js", "../../react-activation/src/helpers/saveScrollPosition.js", "../../react-activation/src/core/KeepAlive.js", "../../react-activation/index.js"],
  "sourcesContent": ["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar isArray = function isArray(value) {\n  return value instanceof Array;\n};\n\nvar _default = isArray;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _isArray = _interopRequireDefault(require(\"./isArray\"));\n\nvar flatten = function flatten(array) {\n  return array.reduce(function (res, item) {\n    return [].concat((0, _toConsumableArray2.default)(res), (0, _toConsumableArray2.default)((0, _isArray.default)(item) ? flatten(item) : [item]));\n  }, []);\n};\n\nvar _default = flatten;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isString;\n\nfunction isString(value) {\n  return typeof value === 'string';\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar isUndefined = function isUndefined(value) {\n  return typeof value === 'undefined';\n};\n\nvar _default = isUndefined;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar isNaN = function isNaN(value) {\n  return value !== value;\n};\n\nvar _default = isNaN;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _isNaN = _interopRequireDefault(require(\"./isNaN\"));\n\nvar isNumber = function isNumber(value) {\n  return typeof value === 'number' && !(0, _isNaN.default)(value);\n};\n\nvar _default = isNumber;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = get;\n\nvar _isString = _interopRequireDefault(require(\"./isString\"));\n\nvar _isUndefined = _interopRequireDefault(require(\"./isUndefined\"));\n\nvar _isNumber = _interopRequireDefault(require(\"./isNumber\"));\n\nfunction get(obj) {\n  var keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var defaultValue = arguments.length > 2 ? arguments[2] : undefined;\n\n  try {\n    if ((0, _isNumber.default)(keys)) {\n      keys = String(keys);\n    }\n\n    var result = ((0, _isString.default)(keys) ? keys.split('.') : keys).reduce(function (res, key) {\n      return res[key];\n    }, obj);\n    return (0, _isUndefined.default)(result) ? defaultValue : result;\n  } catch (e) {\n    return defaultValue;\n  }\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n\nvar _default = isFunction;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _isString = _interopRequireDefault(require(\"./isString\"));\n\nvar _isFunction = _interopRequireDefault(require(\"./isFunction\"));\n\nvar _get = _interopRequireDefault(require(\"./get\"));\n\nvar run = function run(obj) {\n  var keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  keys = (0, _isString.default)(keys) ? keys.split('.') : keys;\n  var func = (0, _get.default)(obj, keys);\n  var context = (0, _get.default)(obj, keys.slice(0, -1));\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return (0, _isFunction.default)(func) ? func.call.apply(func, [context].concat(args)) : func;\n};\n\nvar _default = run;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * [防抖]\n * @param {Function} func 执行函数\n * @param {Number} wait 多少毫秒后运行一次\n */\nvar debounce = function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n  var timeout;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      func.apply(_this, args);\n    }, wait);\n    return timeout;\n  };\n};\n\nvar _default = debounce;\nexports.default = _default;", "// @flow\n'use strict';\n\nvar key = '__global_unique_id__';\n\nmodule.exports = function() {\n  return global[key] = (global[key] || 0) + 1;\n};\n", "/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n", "'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _gud = require('gud');\n\nvar _gud2 = _interopRequireDefault(_gud);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\n\n// Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';\n\n  var Provider = function (_Component) {\n    _inherits(Provider, _Component);\n\n    function Provider() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits = void 0;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    Provider.prototype.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(_react.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);\n\n  var Consumer = function (_Component2) {\n    _inherits(Consumer, _Component2);\n\n    function Consumer() {\n      var _temp2, _this2, _ret2;\n\n      _classCallCheck(this, Consumer);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {\n        value: _this2.getValue()\n      }, _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({ value: _this2.getValue() });\n        }\n      }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n    }\n\n    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n      var observedBits = this.props.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    Consumer.prototype.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    Consumer.prototype.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(_react.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);\n\n\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nexports.default = createReactContext;\nmodule.exports = exports['default'];", "'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _implementation = require('./implementation');\n\nvar _implementation2 = _interopRequireDefault(_implementation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _react2.default.createContext || _implementation2.default;\nmodule.exports = exports['default'];", "function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _isFunction = _interopRequireDefault(require(\"./isFunction\"));\n\nvar _isUndefined = _interopRequireDefault(require(\"./isUndefined\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar EventBus = function EventBus() {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, EventBus);\n  this.listeners = {};\n\n  this.getEventMap = function (event) {\n    if (!_this.listeners[event]) {\n      _this.listeners[event] = new Map();\n    }\n\n    return _this.listeners[event];\n  };\n\n  this.on = function (event, listener) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$once = _ref.once,\n        once = _ref$once === void 0 ? false : _ref$once;\n\n    if (!(0, _isFunction.default)(listener)) {\n      console.error('[EventBus Error] listener is not a function');\n      return _this;\n    }\n\n    _this.getEventMap(event).set(listener, once ? function () {\n      listener.apply(void 0, arguments);\n\n      _this.off(event, listener);\n    } : listener);\n\n    return _this;\n  };\n\n  this.once = function (event, listener) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _this.on(event, listener, _objectSpread(_objectSpread({}, config), {}, {\n      once: true\n    }));\n  };\n\n  this.off = function (event, listener) {\n    var eventMap = _this.getEventMap(event);\n\n    if ((0, _isUndefined.default)(listener)) {\n      eventMap.clear();\n    } else {\n      eventMap.delete(listener);\n    }\n\n    return _this;\n  };\n\n  this.emit = function (event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return _this.getEventMap(event).forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  };\n};\n\nexports.default = EventBus;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar nextTick = function nextTick(func) {\n  return Promise.resolve().then(func);\n};\n\nvar _default = nextTick;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar isNull = function isNull(value) {\n  return value === null;\n};\n\nvar _default = isNull;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _isUndefined = _interopRequireDefault(require(\"./isUndefined\"));\n\nvar _isNull = _interopRequireDefault(require(\"./isNull\"));\n\nvar isExist = function isExist(value) {\n  return !((0, _isUndefined.default)(value) || (0, _isNull.default)(value));\n};\n\nvar _default = isExist;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * [缓存函数结果]\n * @param {Function} func 被处理的函数\n */\nvar memoize = function memoize(func) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$disable = _ref.disable,\n      disable = _ref$disable === void 0 ? function () {\n    return false;\n  } : _ref$disable;\n\n  var cache = new Map();\n\n  var memoizedFunc = function memoizedFunc(key) {\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    var result = func.call.apply(func, [this, key].concat(rest));\n\n    if (!disable.call(this, {\n      cache: cache,\n      key: key,\n      result: result,\n      drop: function drop() {\n        return cache.delete(key);\n      }\n    })) {\n      cache.set(key, result);\n    }\n\n    return result;\n  };\n\n  memoizedFunc.cache = cache;\n  return memoizedFunc;\n};\n\nvar _default = memoize;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _isArray = _interopRequireDefault(require(\"./isArray\"));\n\nvar _isNull = _interopRequireDefault(require(\"./isNull\"));\n\nvar isObject = function isObject(value) {\n  return (0, _typeof2.default)(value) === 'object' && !((0, _isArray.default)(value) || (0, _isNull.default)(value));\n};\n\nvar _default = isObject;\nexports.default = _default;", "'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _isUndefined = _interopRequireDefault(require(\"./isUndefined\"));\n\nvar _run = _interopRequireDefault(require(\"./run\"));\n\nvar value = function value() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return values.reduce(function (value, nextValue) {\n    return (0, _isUndefined.default)(value) ? (0, _run.default)(nextValue) : (0, _run.default)(value);\n  }, undefined);\n};\n\nvar _default = value;\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/* ts-ignore */\nvar getImplementation = function getImplementation() {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  } // @ts-ignore\n\n\n  if (typeof global !== 'undefined') {\n    // @ts-ignore\n    return global;\n  }\n\n  return Function('return this')();\n};\n\nvar implementation = getImplementation();\n\nvar getGlobal = function getGlobal() {\n  if ( // @ts-ignore\n  (typeof global === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(global)) !== 'object' || // @ts-ignore\n  !global || // @ts-ignore\n  global.Math !== Math || // @ts-ignore\n  global.Array !== Array) {\n    return implementation;\n  } // @ts-ignore\n\n\n  return global; // return implementation\n};\n\nvar globalThis = getGlobal();\nvar _default = globalThis;\nexports.default = _default;", "export function getKey2Id() {\n  let uuid = 0\n  const map = new Map()\n\n  // 对每种 NodeType 做编号处理\n  return function key2Id(key) {\n    let id = map.get(key)\n\n    if (!id) {\n      id = (++uuid).toString(32)\n      map.set(key, id)\n    }\n\n    return id\n  }\n}\n", "import { isString, isFunction, get, run } from 'szfe-tools'\n\nimport { getKey2Id } from '../../helpers'\n\nconst isArrReg = /^iAr/\n\n// 对每种 NodeType 做编号处理\nconst key2Id = getKey2Id()\n\n// 获取节点的渲染路径，作为节点的 X 坐标\nconst genRenderPath = (node) =>\n  node.return ? [node, ...genRenderPath(node.return)] : [node]\n\n// 使用节点 _nk 属性或下标与其 key/index 作为 Y 坐标\nconst getNodeId = (fiberNode) => {\n  // FIXME: 使用 index 作为 Y 坐标是十分不可靠的行为，待想出更好的法子替代\n  const id = get(fiberNode, 'key') || fiberNode.index\n  const nodeKey = get(fiberNode, 'memoizedProps._nk') || get(fiberNode, 'pendingProps._nk')\n  const isArray = isString(nodeKey) && isArrReg.test(nodeKey)\n\n  return isArray ? `${nodeKey}.${id}` : nodeKey || id\n}\n\nconst markNode = (node) => {\n  const x = key2Id(get(node, 'type.$$typeof', node.type))\n  const y = getNodeId(node)\n\n  return `${x},${y}`\n}\n\n// 根据 X,Y 坐标生成 Key\nconst getKeyByCoord = (nodes, handleNode) =>\n  nodes\n    .map((node) => {\n      const mark = markNode(node)\n\n      return isFunction(handleNode)\n        ? run(handleNode, undefined, node, mark)\n        : mark\n    })\n    .filter(Boolean)\n    .join('|')\n\nconst getKeyByFiberNode = (fiberNode, handleNode) => {\n  const key = getKeyByCoord(genRenderPath(fiberNode), handleNode)\n\n  return key2Id(key)\n}\n\nexport default getKeyByFiberNode\n", "import { isString, isFunction, get, run } from 'szfe-tools'\n\nimport { getKey2Id } from '../../helpers'\n\nconst isArrReg = /^iAr/\n\n// 对每种 NodeType 做编号处理\nconst key2Id = getKey2Id()\n\n// 获取节点的渲染路径，作为节点的 X 坐标\nconst genRenderPath = (node) =>\n  node.__ ? [node, ...genRenderPath(node.__)] : [node]\n\n// 使用节点 _nk 属性或下标与其 key/index 作为 Y 坐标\nconst getNodeId = (node) => {\n  // FIXME: Preact 无 index 属性，无 key 与 _nk 之下 Y 坐标不可靠，待修正\n  const id = get(node, 'key') || node.index\n  const nodeKey = get(node, 'props._nk')\n  const isArray = isString(nodeKey) && isArrReg.test(nodeKey)\n\n  return isArray ? `${nodeKey}.${id}` : nodeKey || id\n}\n\nconst markNode = (node) => {\n  const x = key2Id(node.type)\n  const y = getNodeId(node)\n\n  return `${x},${y}`\n}\n\n// 根据 X,Y 坐标生成 Key\nconst getKeyByCoord = (nodes, handleNode) =>\n  nodes\n    .map((node) => {\n      const mark = markNode(node)\n\n      return isFunction(handleNode)\n        ? run(handleNode, undefined, node, mark)\n        : mark\n    })\n    .filter(Boolean)\n    .join('|')\n\nconst getKeyByNode = (node, handleNode) => {\n  const key = getKeyByCoord(genRenderPath(node), handleNode)\n\n  return key2Id(key)\n}\n\nexport default getKeyByNode\n", "import { Component } from 'react'\nimport { run } from 'szfe-tools'\n\nimport getKeyByFiberNode from './getKeyByFiberNode'\nimport getKeyByPreactNode from './getKeyByPreactNode'\n\nlet type\n\n// 根据 FiberNode 所处位置来确定 nodeKey\nexport default class NodeKey extends Component {\n  static defaultProps = {\n    onHandleNode: undefined,\n    manualKey: undefined,\n    prefix: '',\n  }\n\n  key = null\n  genKey = (onHandleNode) => {\n    if (!type) {\n      // _reactInternals 为 React v17 fiberNode 节点字段\n      if (this._reactInternalFiber || this._reactInternals) {\n        type = 'React'\n      }\n\n      // TODO: May \"preact/compat\" mode only, not verified yet.\n      if (this.__v) {\n        type = 'Preact'\n      }\n    }\n\n    switch (type) {\n      case 'Preact': {\n        this.key = getKeyByPreactNode(this.__v, onHandleNode)\n        break\n      }\n      case 'React': {\n        const fiberNode = this._reactInternalFiber || this._reactInternals\n        this.key = getKeyByFiberNode(fiberNode, onHandleNode)\n        break\n      }\n      default: {\n        break\n      }\n    }\n\n    return this.key\n  }\n\n  render() {\n    const { manualKey, children, prefix, onHandleNode } = this.props\n\n    return run(\n      children,\n      undefined,\n      `${prefix}${manualKey, this.key || this.genKey(onHandleNode)}`\n    )\n  }\n}\n", "'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./lib/index.min.js');\r\n} else {\r\n  module.exports = require('./lib/index.js');\r\n}\r\n", "// 值类型判断 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nexport const isRegExp = (val) => val instanceof RegExp\n// 值类型判断 -------------------------------------------------------------\n", "import createContext from 'create-react-context'\n\n// 整个 KeepAlive 功能的上下文，将 KeepAlive 的组件藏于其 Provider 中，保证其不会被卸载\nexport const aliveScopeContext = createContext()\nexport const {\n  Provider: AliveScopeProvider,\n  Consumer: AliveScopeConsumer,\n} = aliveScopeContext\n\n// KeepAlive 组件的上下文，实现缓存生命周期功能\nexport const aliveNodeContext = createContext()\nexport const {\n  Provider: AliveNodeProvider,\n  Consumer: AliveNodeConsumer,\n} = aliveNodeContext\n", "import { Component, PureComponent } from 'react'\nimport { EventBus, run, debounce } from 'szfe-tools'\n\nexport const eventBus = new EventBus()\n\nexport class FakeScopeProvider extends Component {\n  static eventBus = eventBus\n  static currentContextValue = undefined\n\n  constructor(props) {\n    super(props)\n    FakeScopeProvider.currentContextValue = props.value\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      FakeScopeProvider.currentContextValue = nextProps.value\n      eventBus.emit('update', nextProps.value)\n    }\n\n    return (\n      nextProps.children !== this.props.children ||\n      nextProps.value !== this.props.value\n    )\n  }\n\n  render() {\n    const { children } = this.props\n    return children\n  }\n}\n\nexport class FakeScopeConsumer extends PureComponent {\n  state = {\n    context: FakeScopeProvider.currentContextValue,\n  }\n\n  constructor(props) {\n    super(props)\n    eventBus.on('update', this.updateListener)\n  }\n\n  updateListener = debounce((nextContextValue) => {\n    this.setState({\n      context: nextContextValue,\n    })\n  })\n\n  componentWillUnmount() {\n    eventBus.off('update', this.updateListener)\n  }\n\n  render() {\n    const { children } = this.props\n    const { context } = this.state\n    return run(children, undefined, context)\n  }\n}\n", "/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useState, useContext, useEffect } from 'react'\nimport { run, debounce, isFunction } from 'szfe-tools'\n\nimport {\n  aliveScopeContext,\n  AliveScopeProvider as AliveScopeReactProvider,\n  AliveScopeConsumer as AliveScopeReactConsumer,\n  aliveNodeContext,\n  AliveNodeProvider,\n  AliveNodeConsumer,\n} from './reactContext'\nimport {\n  eventBus as fakeContextEventBus,\n  FakeScopeProvider,\n  FakeScopeConsumer,\n} from './FakeScopeContext'\n\nexport const useScopeContext = () => {\n  if (!isFunction(useContext)) {\n    return {}\n  }\n\n  const scopeReactContext = useContext(aliveScopeContext)\n\n  if (scopeReactContext) {\n    return scopeReactContext\n  }\n\n  const [context, setContext] = useState(FakeScopeProvider.currentContextValue)\n\n  useEffect(() => {\n    const updateListener = debounce(setContext)\n    fakeContextEventBus.on('update', updateListener)\n    return () => fakeContextEventBus.off('update', updateListener)\n  }, [])\n\n  return context\n}\n\nexport const AliveScopeProvider = ({ children, ...props }) => (\n  <AliveScopeReactProvider {...props}>\n    <FakeScopeProvider {...props}>{children}</FakeScopeProvider>\n  </AliveScopeReactProvider>\n)\nexport const AliveScopeConsumer = ({ children }) => (\n  <AliveScopeReactConsumer>\n    {(reactContext) =>\n      !!reactContext ? (\n        run(children, undefined, reactContext)\n      ) : (\n        <FakeScopeConsumer>{children}</FakeScopeConsumer>\n      )\n    }\n  </AliveScopeReactConsumer>\n)\nexport {\n  aliveScopeContext,\n  aliveNodeContext,\n  AliveNodeProvider,\n  AliveNodeConsumer,\n}\n", "// Fork from react-freeze\r\n// https://github.com/software-mansion/react-freeze/blob/main/src/index.tsx\r\nimport React, { Component, Suspense, Fragment } from 'react'\r\n\r\n// function Suspender({ freeze, children }) {\r\n//   const promiseCache = useRef({}).current\r\n//   if (freeze && !promiseCache.promise) {\r\n//     promiseCache.promise = new Promise((resolve) => {\r\n//       promiseCache.resolve = resolve\r\n//     })\r\n//     throw promiseCache.promise\r\n//   } else if (freeze) {\r\n//     throw promiseCache.promise\r\n//   } else if (promiseCache.promise) {\r\n//     promiseCache.resolve()\r\n//     promiseCache.promise = undefined\r\n//   }\r\n\r\n//   return <Fragment>{children}</Fragment>\r\n// }\r\n\r\nclass Suspender extends Component {\r\n  promiseCache = {}\r\n  render() {\r\n    const { freeze, children } = this.props\r\n    const { promiseCache } = this\r\n\r\n    if (freeze && !promiseCache.promise) {\r\n      promiseCache.promise = new Promise((resolve) => {\r\n        promiseCache.resolve = resolve\r\n      })\r\n      throw promiseCache.promise\r\n    } else if (freeze) {\r\n      throw promiseCache.promise\r\n    } else if (promiseCache.promise) {\r\n      promiseCache.resolve()\r\n      promiseCache.promise = undefined\r\n    }\r\n\r\n    return <Fragment>{children}</Fragment>\r\n  }\r\n}\r\n\r\nexport default function Freeze({ freeze, children, placeholder = null }) {\r\n  return (\r\n    <Suspense fallback={placeholder}>\r\n      <Suspender freeze={freeze}>{children}</Suspender>\r\n    </Suspense>\r\n  )\r\n}", "import React, { useContext, Fragment } from 'react'\nimport createReactContext from 'create-react-context'\nimport { run, get, isString, isFunction, memoize, EventBus, isExist } from 'szfe-tools'\n\nimport { aliveScopeContext, aliveNodeContext } from '../../context'\n\nexport const fixedContext = []\nexport const updateListenerCache = new Map()\nexport const eventBus = new EventBus()\n\nexport const fixContext = memoize((ctx) => {\n  if (!isExist(ctx)) {\n    return\n  }\n\n  // 排除 KeepAlive 功能的上下文\n  if ([aliveScopeContext, aliveNodeContext].includes(ctx)) {\n    return\n  }\n\n  // #259: 结合 use-context-selector 时，修复被删除的 Consumer\n  if (!isExist(ctx.Consumer)) {\n    function Consumer({ children }) {\n      const ctxValue = run(useContext, undefined, ctx)\n    \n      return <Fragment>{run(children, undefined, ctxValue)}</Fragment>\n    }\n    \n    // 重新声明 Consumer\n    ctx.Consumer = Consumer\n  }\n\n  fixedContext.push(ctx)\n  setTimeout(() => eventBus.emit('update'))\n})\n\nexport const createContext = (defaultValue, calculateChangedBits) => {\n  const ctx = createReactContext(defaultValue, calculateChangedBits)\n\n  fixContext(ctx)\n  return ctx\n}\n\nconst tryFixCtx = memoize((type) => {\n  // 尝试读取 Provider 或 Consumer 中的 context 静态属性\n  const ctx = get(type, '_context') || get(type, 'context') // 16.3.0 版本为 context，之后为 _context\n\n  // 判断是否为 ReactContext 类型\n  if (get(ctx, '$$typeof') === get(aliveScopeContext, '$$typeof')) {\n    fixContext(ctx)\n  }\n})\n\nconst override = (configs) => {\n  configs.forEach(([host, ...methods]) => {\n    methods.forEach((method) => {\n      if (\n        !isFunction(get(host, method)) ||\n        get(host, [method, '_overridden'])\n      ) {\n        return\n      }\n      const originMethod = host[method].bind(host)\n      host[method] = (type, ...args) => {\n        if (!isString(type)) {\n          tryFixCtx(type)\n        }\n        return originMethod(type, ...args)\n      }\n      host[method]._overridden = true\n    })\n  })\n}\n\n/**\n * 通过覆写 React.createElement 方法来探测 Provider 或 Consumer 的创建，并攫取其中 context 主动进行修复\n * TODO：同时兼容 React 17+，目前仅默认兼容 React.createElement 方法\n * React 17+ 为 require('react/jsx-runtime') 或 require('react/jsx-dev-runtime') 的 jsx、jsxs、jsxDEV 方法\n * 但由于无法动态 require，暂未想到方式同时兼容\n * 若需兼容 17+，目前手法为\n *\n * autoFixContext(\n *   [require('react/jsx-runtime'), 'jsx', 'jsxs', 'jsxDEV'],\n *   [require('react/jsx-dev-runtime'), 'jsx', 'jsxs', 'jsxDEV']\n * )\n *\n * Note: 需注意 16.2.x 及以下版本不支持此方法\n */\nexport const autoFixContext = (...configs) => {\n  try {\n    override(configs)\n  } catch (err) {\n    console.warn('activation override failed:', err)\n  }\n}\n\nautoFixContext([React, 'createElement'])\n", "import React, { PureComponent } from 'react'\nimport { run, isUndefined } from 'szfe-tools'\n\nexport default class ProviderBridge extends PureComponent {\n  unmount = null\n  constructor(props) {\n    super(props)\n\n    const { value: ctxValues } = props\n\n    if (ctxValues.length === 0) {\n      this.state = {\n        ctxValue: null,\n      }\n\n      return\n    }\n\n    const [{ ctx, value, onUpdate }] = ctxValues\n\n    this.state = {\n      ctxValue: value,\n    }\n\n    this.unmount = onUpdate((value) => {\n      this.setState({\n        ctxValue: value,\n      })\n    })\n  }\n\n  componentWillUnmount() {\n    run(this.unmount)\n  }\n\n  // componentDidCatch(error) {\n  //   console.error('ProviderBridge Error', error)\n  // }\n\n  render() {\n    const { value: propCtxValues, children } = this.props\n    const ctxValues = propCtxValues.filter(Boolean)\n\n    if (ctxValues.length === 0) {\n      return children\n    }\n\n    const { ctxValue } = this.state\n    const [{ ctx }, ...restValues] = ctxValues\n    const { Provider } = ctx\n\n    const nextChildren = !isUndefined(ctxValue) ? (\n      <Provider value={ctxValue}>{children}</Provider>\n    ) : (\n      children\n    )\n\n    // 递归 ProviderBridge 修复多个上下文\n    // 此处未考虑待修复上下文顺序问题，按先来后到顺序处理，但理论上不应存在顺序问题\n    return restValues.length > 0 ? (\n      <ProviderBridge value={restValues}>{nextChildren}</ProviderBridge>\n    ) : (\n      nextChildren\n    )\n  }\n}\n", "import { Component } from 'react'\nimport { run, get, isUndefined } from 'szfe-tools'\n\nimport { updateListenerCache } from './fixContext'\n\n// 在 KeepAlive 位置使用待修复上下文的 Consumer 探测可能存在的上下文关系\n// 若成功捕获上下文则保存其内容，用以后续 Keeper 中上下文的重建\nexport default class ConsumerWrapper extends Component {\n  updateListener = null\n  ctxInfo = null\n  constructor(props) {\n    super(props)\n\n    const { value, ctx, id } = props\n    if (isUndefined(value)) {\n      return\n    }\n\n    // 因 Consumer 探测器存在于 KeepAlive 外层故会随着 KeepAlive 卸载\n    // componentWillUnmount 中保留了已生成的更新监听器\n    // 此处重新挂载后恢复与对应 Keeper 中 ProviderBridge 的联系\n    this.updateListener = get(updateListenerCache.get(ctx), id, new Map())\n    run(this.updateListener, 'forEach', (fn) => fn(value))\n    this.ctxInfo = {\n      ctx,\n      value,\n      // 注册上下文更新的监听，保证上下文更新时 Keeper 中 ProviderBridge 内容的同步\n      onUpdate: (updator) => {\n        this.updateListener.set(updator, updator)\n\n        // 返回更新监听器的注销方法\n        return () => this.updateListener.delete(updator)\n      },\n    }\n  }\n\n  componentWillUnmount() {\n    const { value, ctx, id } = this.props\n    if (isUndefined(value)) {\n      return\n    }\n\n    // 因 Consumer 探测器存在于 KeepAlive 外层故会随着 KeepAlive 卸载\n    // 此处保留其中已生成的更新监听器，用以在重新挂载后保持与对应 Keeper 中 ProviderBridge 的联系\n    updateListenerCache.set(ctx, {\n      ...get(updateListenerCache.get(ctx), undefined, {}),\n      [id]: this.updateListener,\n    })\n  }\n\n  // 利用 shouldComponentUpdate 尽早将上下文更新的咨询通知到对应 Keeper 中 ProviderBridge\n  // TODO: 改用 componentWillReceiveProps 更早地进行更新，需注意与 getDerivedStateFromProps 新生命周期的兼容及可能存在的死循环问题\n  shouldComponentUpdate({ value }) {\n    const { value: prevValue } = this.props\n    const shouldUpdate = prevValue !== value\n\n    if (shouldUpdate) {\n      run(this.updateListener, 'forEach', (fn) => fn(value))\n    }\n\n    return true\n  }\n\n  render() {\n    const { value, renderWrapper, renderContent, id } = this.props\n\n    return renderWrapper((ctx$$) =>\n      renderContent(isUndefined(value) ? ctx$$ : [...ctx$$, this.ctxInfo])\n    )\n  }\n}\n", "/* eslint-disable react-hooks/rules-of-hooks */\nimport React, {\n  PureComponent,\n  useContext,\n  useRef,\n  useEffect,\n  useState,\n} from 'react'\nimport { run, get, nextTick, isUndefined, isFunction, isExist } from 'szfe-tools'\n\nimport ConsumerWrapper from './ConsumerWrapper'\nimport { fixedContext, eventBus, updateListenerCache } from './fixContext'\n\nconst fixedContextSnapshot = {}\n\n// 对 ConsumerWrapper 的递归结构，会在 devtool 中生成较深的嵌套结构，可用 hooks 消除嵌套结构\nclass RecursiveConsumerBridge extends PureComponent {\n  constructor(props) {\n    super(props)\n    const { id } = props\n\n    if (!fixedContextSnapshot[id]) {\n      fixedContextSnapshot[id] = [...fixedContext].filter(ctx => isExist(ctx.Consumer))\n    }\n  }\n\n  renderWrapper = (renderChildren) => {\n    const { id } = this.props\n\n    const renderWrapper = fixedContextSnapshot[id].reduce(\n      (render, ctx) => {\n        const { Consumer } = ctx\n\n        const renderWrapper = (renderContent) => (\n          <Consumer>\n            {(value) => (\n              <ConsumerWrapper\n                {...{\n                  value,\n                  ctx,\n                  renderWrapper: render,\n                  renderContent,\n                  id,\n                }}\n              />\n            )}\n          </Consumer>\n        )\n\n        return renderWrapper\n      },\n      (renderContent) => renderContent([])\n    )\n\n    return renderWrapper(renderChildren)\n  }\n\n  render() {\n    const { children: renderChildren } = this.props\n\n    return this.renderWrapper(renderChildren)\n  }\n}\n\n// 若支持 Hooks，就不需要递归了，相关实现解释可参考 ConsumerWrapper\n// function HooksConsumerBridge({ children: renderChildren, id }) {\n//   const [, setRenderKey] = useState(Math.random)\n\n//   useEffect(() => {\n//     // 渲染时若 fixedContext 列表更新，则需强制刷新\n//     const updateListener = () => setRenderKey(Math.random)\n//     eventBus.on('update', updateListener)\n//     return () => {\n//       eventBus.off('update', updateListener)\n//     }\n//   }, [])\n\n//   const context$$ = fixedContext\n//     .map((ctx) => {\n//       const value = useContext(ctx)\n//       const prevValueRef = useRef(value)\n//       const { current: updateListener } = useRef(\n//         get(updateListenerCache.get(ctx), id, new Map())\n//       )\n\n//       // 尽可能早地进行更新\n//       if (prevValueRef.current !== value) {\n//         nextTick(() => run(updateListener, 'forEach', (fn) => fn(value)))\n//       }\n//       prevValueRef.current = value\n\n//       useEffect(() => {\n//         return () => {\n//           if (isUndefined(value)) {\n//             return\n//           }\n\n//           updateListenerCache.set(ctx, {\n//             ...get(updateListenerCache.get(ctx), undefined, {}),\n//             [id]: updateListener,\n//           })\n//         }\n//       }, [])\n\n//       return {\n//         ctx,\n//         value,\n//         onUpdate: (fn) => {\n//           updateListener.set(fn, fn)\n\n//           return () => updateListener.delete(fn)\n//         },\n//       }\n//     })\n//     .filter(({ value }) => !isUndefined(value))\n\n//   return renderChildren(context$$)\n// }\n\n// fix #99\n// const ConsumerBridge = [useContext, useRef, useEffect].every(isFunction)\n//   ? HooksConsumerBridge\n//   : RecursiveConsumerBridge\n// fix #99\nexport default RecursiveConsumerBridge\n", "import React, { lazy, Suspense, Component, Fragment } from 'react'\nimport { run, isUndefined, isFunction } from 'szfe-tools'\n\n// 兼容性检测\nconst isSupported = isFunction(lazy) && !isUndefined(Suspense)\nconst SusNotSupported = ({ children }) => run(children)\n\nconst Lazy = isSupported ? lazy(() => new Promise(() => null)) : () => null\n\nclass FallbackListener extends Component {\n  componentDidMount() {\n    run(this.props, 'onStart')\n  }\n\n  componentWillUnmount() {\n    run(this.props, 'onEnd')\n  }\n\n  render() {\n    return null\n  }\n}\n\nfunction SuspenseBridge({ children, sus$$ }) {\n  return (\n    // 捕获 Keeper 内部可能存在的 lazy，并触发对应 KeepAlive 位置上的 LazyBridge\n    <Suspense\n      fallback={\n        <FallbackListener\n          onStart={sus$$.onSuspenseStart}\n          onEnd={sus$$.onSuspenseEnd}\n        />\n      }\n    >\n      {children}\n    </Suspense>\n  )\n}\n\nexport const LazyBridge = isSupported\n  ? class LazyBridge extends Component {\n      state = {\n        suspense: false,\n      }\n\n      onSuspenseStart = () => {\n        this.setState({\n          suspense: true,\n        })\n      }\n\n      onSuspenseEnd = () => {\n        this.setState({\n          suspense: false,\n        })\n      }\n\n      sus$$ = {\n        onSuspenseStart: this.onSuspenseStart,\n        onSuspenseEnd: this.onSuspenseEnd,\n      }\n\n      render() {\n        const { children } = this.props\n\n        return (\n          <Fragment>\n            {run(children, undefined, this.sus$$)}\n            {/* 渲染 Lazy 以触发 KeepAlive 所处位置外部可能存在的 Suspense */}\n            {this.state.suspense && <Lazy />}\n          </Fragment>\n        )\n      }\n    }\n  : SusNotSupported\n\nexport default isSupported ? SuspenseBridge : SusNotSupported\n", "import { Component } from 'react'\nimport { run } from 'szfe-tools'\n\nexport default class ErrorBoundaryBridge extends Component {\n  // Error Boundary 透传至对应 KeepAlive 实例位置\n  static getDerivedStateFromError = () => null\n  componentDidCatch(error) {\n    const { error$$: throwError } = this.props\n\n    run(throwError, undefined, error, () => {\n      run(throwError, undefined, null)\n    })\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nexport class ErrorThrower extends Component {\n  state = {\n    error: null,\n  }\n\n  throwError = (error, cb) => this.setState({ error }, cb)\n  render() {\n    if (this.state.error) {\n      throw this.state.error\n    }\n\n    return run(this.props.children, undefined, this.throwError)\n  }\n}\n", "import React from 'react'\nimport { run } from 'szfe-tools'\n\nimport { ProviderBridge, ConsumerBridge } from './Context'\nimport SuspenseBridge, { LazyBridge } from './Suspense'\nimport ErrorBoundaryBridge, { ErrorThrower } from './ErrorBoundary'\n\n// 用于 Keeper 中，实现 Keeper 向外或向内的桥接代理\nexport default function Bridge({ id, children, bridgeProps }) {\n  const { sus$$, ctx$$, error$$ } = bridgeProps\n\n  return (\n    /* 由内向外透传 componentDidCatch 捕获的 error */\n    <ErrorBoundaryBridge error$$={error$$}>\n      {/* 由内向外透传 lazy 行为 */}\n      <SuspenseBridge sus$$={sus$$}>\n        {/* 由外向内透传可能存在的 Consumer 数据 */}\n        <ProviderBridge id={id} value={ctx$$}>\n          {children}\n        </ProviderBridge>\n      </SuspenseBridge>\n    </ErrorBoundaryBridge>\n  )\n}\n\n// 用于 KeepAlive 中，实现 KeepAlive 向外或向内的桥接代理\nexport function Acceptor({ id, children }) {\n  return (\n    /* 由内向外透传 componentDidCatch 捕获的 error */\n    <ErrorThrower>\n      {(error$$) => (\n        /* 由内向外透传 lazy 行为 */\n        <LazyBridge>\n          {(sus$$) => (\n            /* 由外向内透传可能被捕获的 Provider 数据 */\n            <ConsumerBridge id={id}>\n              {(ctx$$) =>\n                run(children, undefined, {\n                  bridgeProps: {\n                    sus$$,\n                    ctx$$,\n                    error$$,\n                  },\n                })\n              }\n            </ConsumerBridge>\n          )}\n        </LazyBridge>\n      )}\n    </ErrorThrower>\n  )\n}\n", "/* eslint-disable react-hooks/rules-of-hooks */\nimport React, {\n  Component,\n  forwardRef,\n  useEffect,\n  useRef,\n  useContext,\n} from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport {\n  get,\n  run,\n  nextTick,\n  isObject,\n  isFunction,\n  isUndefined,\n} from 'szfe-tools'\n\nimport { AliveNodeConsumer, aliveNodeContext } from './context'\n\nexport const LIFECYCLE_ACTIVATE = 'componentDidActivate'\nexport const LIFECYCLE_UNACTIVATE = 'componentWillUnactivate'\n\nexport const withActivation = (WrappedComponent) => {\n  class HOC extends Component {\n    drop = null\n\n    componentWillUnmount() {\n      run(this.drop)\n    }\n\n    render() {\n      const { forwardedRef, ...props } = this.props\n\n      return (\n        <AliveNodeConsumer>\n          {({ attach } = {}) => (\n            <WrappedComponent\n              ref={(ref) => {\n                if (\n                  [LIFECYCLE_ACTIVATE, LIFECYCLE_UNACTIVATE].every(\n                    (lifecycleName) => !isFunction(get(ref, lifecycleName))\n                  )\n                ) {\n                  return\n                }\n                this.drop = run(attach, undefined, ref)\n\n                // 以下保持 ref 功能\n                if (isUndefined(forwardedRef)) {\n                  return\n                }\n\n                if (isObject(forwardedRef) && 'current' in forwardedRef) {\n                  forwardedRef.current = ref\n                  return\n                }\n\n                run(forwardedRef, undefined, ref)\n              }}\n              {...props}\n            />\n          )}\n        </AliveNodeConsumer>\n      )\n    }\n  }\n\n  // 由于 KeepAlive 内组件渲染与实际内容落后一个节拍\n  // 将导致真实节点的 componentDidMount 无法及时获取到 KeepAlive 中内容的 ref 值\n  // 此处对使用了 withActivation HOC 的组件 componentDidMount 做 nextTick 延时处理\n  // 修复上述问题\n\n  if (isFunction(WrappedComponent.prototype.componentDidMount)) {\n    WrappedComponent.prototype._componentDidMount =\n      WrappedComponent.prototype.componentDidMount\n    WrappedComponent.prototype.componentDidMount = function componentDidMount() {\n      nextTick(() => WrappedComponent.prototype._componentDidMount.call(this))\n    }\n  }\n\n  if (isFunction(forwardRef)) {\n    const ForwardedRefHOC = forwardRef((props, ref) => (\n      <HOC {...props} forwardedRef={ref} />\n    ))\n\n    return hoistStatics(ForwardedRefHOC, WrappedComponent)\n  } else {\n    return hoistStatics(HOC, WrappedComponent)\n  }\n}\n\nconst useActivation = (funcName, func) => {\n  // 兼容性判断\n  if ([useRef, useContext, useEffect].some((fn) => !isFunction(fn))) {\n    return\n  }\n\n  const ctxValue = useContext(aliveNodeContext)\n\n  // 未处于 KeepAlive 中\n  if (!ctxValue) {\n    return\n  }\n\n  const { current: ref } = useRef({})\n  const { attach } = ctxValue\n\n  ref[funcName] = func\n  ref.drop = attach(ref)\n\n  useEffect(() => {\n    return () => run(ref.drop)\n  }, [])\n}\n\nexport const useActivate = useActivation.bind(null, LIFECYCLE_ACTIVATE)\nexport const useUnactivate = useActivation.bind(null, LIFECYCLE_UNACTIVATE)\n", "import React, { PureComponent, Suspense } from 'react'\nimport { flushSync } from 'react-dom'\nimport { get, run, nextTick, EventBus } from 'szfe-tools'\n\nimport ReactFreeze from './Freeze'\nimport Bridge from './Bridge'\nimport { AliveNodeProvider } from './context'\nimport { LIFECYCLE_ACTIVATE, LIFECYCLE_UNACTIVATE } from './lifecycles'\n\nconst Freeze = !!Suspense ? ReactFreeze : ({ children }) => children\n\nexport default class Keeper extends PureComponent {\n  eventBus = new EventBus()\n  listeners = new Map()\n  wrapper = null\n\n  constructor(props, ...rest) {\n    super(props, ...rest)\n\n    this.state = {\n      children: props.children,\n      bridgeProps: props.bridgeProps,\n      key: Math.random(),\n      freeze: false,\n    }\n  }\n\n  cache = undefined\n  componentDidMount() {\n    const { store, id } = this.props\n    const listeners = this.listeners\n    const node = this.wrapper\n\n    // 已存在检测，防止意外现象\n    if (store.has(id)) {\n      return\n    }\n\n    let nodes\n    try {\n      nodes = [...node.children]\n    } catch (e) {\n      nodes = [node.children]\n    }\n\n    this.cache = {\n      listeners,\n      aliveNodesId: [],\n      inited: false,\n      cached: false,\n      wrapper: node,\n      nodes,\n      [LIFECYCLE_ACTIVATE]: () => this[LIFECYCLE_ACTIVATE](),\n      [LIFECYCLE_UNACTIVATE]: () => this[LIFECYCLE_UNACTIVATE](),\n    }\n\n    store.set(id, this.cache)\n  }\n\n  \n  unmounted = false\n  safeSetState = (nextState, callback) => {\n    // fix #170\n    if (this.unmounted) {\n      return\n    }\n    this.setState(nextState, callback)\n  }\n  componentWillUnmount() {\n    const { store, keepers, id } = this.props\n    // 卸载前尝试归位 DOM 节点\n    try {\n      const cache = store.get(id)\n      cache.nodes.forEach((node) => {\n        cache.wrapper.appendChild(node)\n      })\n    } catch (error) {\n      // console.error(error) // do nothing\n    }\n    store.delete(id)\n    keepers.delete(id)\n    this.unmounted = true\n  }\n\n  freezeTimeout = null\n\n  ;[LIFECYCLE_ACTIVATE]() {\n    clearTimeout(this.freezeTimeout)\n    // 激活后，立即解冻\n    this.safeSetState({\n      freeze: false,\n    })\n    this.eventBus.emit(LIFECYCLE_ACTIVATE)\n    this.listeners.forEach((listener) => run(listener, [LIFECYCLE_ACTIVATE]))\n  }\n\n  ;[LIFECYCLE_UNACTIVATE]() {\n    this.eventBus.emit(LIFECYCLE_UNACTIVATE)\n    const listeners = [...this.listeners]\n\n    listeners\n      .reverse()\n      .forEach(([, listener]) => run(listener, [LIFECYCLE_UNACTIVATE]))\n\n    // 缓存后，延迟冻结，保证各项后续处理得以进行，如关闭弹窗等\n    clearTimeout(this.freezeTimeout)\n    this.freezeTimeout = setTimeout(() => {\n      flushSync(() => {\n        this.safeSetState({\n          freeze: true,\n        })\n      })\n    }, 1000)\n  }\n\n  // // 原先打算更新过程中先重置 dom 节点状态，更新后恢复 dom 节点\n  // // 但考虑到性能消耗可能过大，且可能因 dom 操作时机引发其他 react 渲染问题，故不使用\n  // // 对应 KeepAlive 处 update 也注释起来不使用\n  // // 组件更新后，更新 DOM 节点列表状态\n  // componentDidUpdate() {\n  //   const { store, id } = this.props\n  //   const node = this.wrapper\n  //   if (get(node, 'children.length') > 0) {\n  //     store[id].nodes = [...node.children]\n  //   }\n\n  //   console.log(store[id].nodes)\n  // }\n\n  // 生命周期绑定\n  attach = (ref) => {\n    const listeners = this.listeners\n\n    if (!ref) {\n      return () => null\n    }\n\n    if (ref.isKeepAlive) {\n      nextTick(() => {\n        const { id, store } = this.props\n        const cache = store.get(id)\n        cache.aliveNodesId = new Set([...cache.aliveNodesId, ref.id])\n      })\n    }\n\n    listeners.set(ref, {\n      [LIFECYCLE_ACTIVATE]: () => run(ref, LIFECYCLE_ACTIVATE),\n      [LIFECYCLE_UNACTIVATE]: () => run(ref, LIFECYCLE_UNACTIVATE),\n    })\n\n    // 返回 listenerRemover 用以在对应组件卸载时解除监听\n    return () => {\n      listeners.delete(ref)\n    }\n  }\n\n  // 静态化节点上下文内容，防止重复渲染\n  contextValue = {\n    id: this.props.id,\n    attach: this.attach,\n  }\n\n  drop = ({ delay = 1200 } = {}) =>\n    new Promise((resolve) => {\n      let timeout\n      const { scope, id } = this.props\n      const drop = () => {\n        clearTimeout(timeout)\n        this.eventBus.off(LIFECYCLE_UNACTIVATE, drop)\n        // 用在多层 KeepAlive 同时触发 drop 时，避免触发深层 KeepAlive 节点的缓存生命周期\n        this.cache.willDrop = true\n        scope.nodes.delete(id)\n        scope.helpers = { ...scope.helpers }\n        scope.smartForceUpdate(() => resolve(true))\n      }\n\n      const canDrop = get(this.cache, 'cached') || get(this.cache, 'willDrop')\n      if (!canDrop) {\n        this.eventBus.on(LIFECYCLE_UNACTIVATE, drop)\n        timeout = setTimeout(() => {\n          this.eventBus.off(LIFECYCLE_UNACTIVATE, drop)\n          resolve(false)\n        }, delay)\n        return\n      }\n\n      drop()\n    })\n\n  refresh = () =>\n    new Promise((resolve) => {\n      const canRefresh = !get(this.cache, 'cached')\n      if (!canRefresh) {\n        resolve(false)\n      }\n      this.safeSetState(\n        {\n          key: Math.random(),\n        },\n        () => resolve(true)\n      )\n    })\n\n  render() {\n    const { id, autoFreeze = true, ...props } = this.props\n    const { children, bridgeProps, key, freeze } = this.state\n\n    return (\n      <Freeze freeze={autoFreeze && freeze}>\n        <div\n          ref={(node) => {\n            this.wrapper = node\n          }}\n        >\n          <div key=\"keeper-container\" nodeKeyIgnore className=\"ka-content\">\n            <Bridge id={id} bridgeProps={bridgeProps}>\n              <AliveNodeProvider value={this.contextValue}>\n                {React.Children.map(children, (child, idx) =>\n                  React.cloneElement(child, {\n                    key: `${child.key || ''}:${key}:${idx}`,\n                  })\n                )}\n              </AliveNodeProvider>\n            </Bridge>\n          </div>\n        </div>\n      </Freeze>\n    )\n  }\n}\n", "import React, { Component } from 'react'\nimport { get, run, flatten, debounce, globalThis as root } from 'szfe-tools'\n\nimport { isRegExp } from '../helpers/is'\nimport { AliveScopeProvider } from './context'\nimport Keeper from './Keeper'\n\nconst HANDLE_TYPE_DROP = 'drop'\nconst HANDLE_TYPE_REFRESH = 'refresh'\n\nexport default class AliveScope extends Component {\n  store = new Map()\n  nodes = new Map()\n  keepers = new Map()\n\n  debouncedForceUpdate = debounce((cb) => this.forceUpdate(cb))\n  updateCallbackList = []\n  smartForceUpdate = (cb) => {\n    this.updateCallbackList.push(cb)\n    this.debouncedForceUpdate(() => {\n      this.updateCallbackList.forEach((cb) => run(cb))\n      this.updateCallbackList = []\n    })\n  }\n  update = (id, params) =>\n    new Promise((resolve) => {\n      const keeper = this.keepers.get(id)\n      const isNew = !keeper\n      const now = Date.now()\n      const node = this.nodes.get(id) || null\n      this.nodes.set(id, {\n        id,\n        createTime: now,\n        updateTime: now,\n        ...node,\n        ...params,\n      })\n\n      if (isNew) {\n        this.helpers = { ...this.helpers }\n\n        this.forceUpdate(resolve)\n      } else {\n        const { children, bridgeProps } = params\n        keeper.setState({ children, bridgeProps }, resolve)\n      }\n    })\n\n  keep = (id, params) =>\n    new Promise((resolve) => {\n      this.update(id, {\n        id,\n        ...params,\n      }).then(() => {\n        resolve(this.store.get(id))\n      })\n    })\n\n  getCachingNodesByName = (name) =>\n    this.getCachingNodes().filter((node) =>\n      isRegExp(name) ? name.test(node.name) : node.name === name\n    )\n\n  getScopeIds = (ids) => {\n    // 递归采集 scope alive nodes id\n    const getCachingNodesId = (id) => {\n      const aliveNodesId = get(this.getCache(id), 'aliveNodesId', [])\n\n      if (aliveNodesId.size > 0) {\n        return [id, [...aliveNodesId].map(getCachingNodesId)]\n      }\n\n      return [id, ...aliveNodesId]\n    }\n\n    return flatten(ids.map((id) => getCachingNodesId(id)))\n  }\n\n  dropById = (id, ...rest) => this.handleNodes([id], HANDLE_TYPE_DROP, ...rest)\n  dropScopeByIds = (ids, ...rest) =>\n    this.handleNodes(this.getScopeIds(ids), HANDLE_TYPE_DROP, ...rest)\n\n  drop = (name, ...rest) =>\n    this.handleNodes(\n      this.getCachingNodesByName(name).map((node) => node.id),\n      HANDLE_TYPE_DROP,\n      ...rest\n    )\n\n  dropScope = (name, ...rest) =>\n    this.dropScopeByIds(\n      this.getCachingNodesByName(name).map(({ id }) => id),\n      ...rest\n    )\n\n  refreshById = (id, ...rest) =>\n    this.handleNodes([id], HANDLE_TYPE_REFRESH, ...rest)\n  refreshScopeByIds = (ids, ...rest) =>\n    this.handleNodes(this.getScopeIds(ids), HANDLE_TYPE_REFRESH, ...rest)\n\n  refresh = (name, ...rest) =>\n    this.handleNodes(\n      this.getCachingNodesByName(name).map((node) => node.id),\n      HANDLE_TYPE_REFRESH,\n      ...rest\n    )\n\n  refreshScope = (name, ...rest) =>\n    this.refreshScopeByIds(\n      this.getCachingNodesByName(name).map(({ id }) => id),\n      ...rest\n    )\n\n  handleNodes = (nodesId, type = HANDLE_TYPE_DROP, ...rest) =>\n    new Promise((resolve) => {\n      const handleKeepers = []\n\n      nodesId.forEach((id) => {\n        const cache = this.store.get(id)\n\n        if (!cache) {\n          return\n        }\n\n        const keeper = this.keepers.get(id)\n        handleKeepers.push(keeper)\n      })\n\n      if (handleKeepers.length === 0) {\n        resolve(false)\n        return\n      }\n\n      Promise.all(\n        handleKeepers.map((keeper) => run(keeper, type, ...rest))\n      ).then((responses) => resolve(responses.every(Boolean)))\n    })\n\n  clear = (...rest) =>\n    this.handleNodes(\n      this.getCachingNodes().map(({ id }) => id),\n      HANDLE_TYPE_DROP,\n      ...rest\n    )\n\n  getCache = (id) => this.store.get(id)\n  getNode = (id) => this.nodes.get(id)\n  getCachingNodes = () => [...this.nodes.values()]\n\n  // 静态化节点上下文内容，防止重复渲染\n  helpers = {\n    keep: this.keep,\n    update: this.update,\n    drop: this.drop,\n    dropScope: this.dropScope,\n    dropById: this.dropById,\n    dropScopeByIds: this.dropScopeByIds,\n    refresh: this.refresh,\n    refreshScope: this.refreshScope,\n    refreshById: this.refreshById,\n    refreshScopeByIds: this.refreshScopeByIds,\n    getScopeIds: this.getScopeIds,\n    clear: this.clear,\n    getCache: this.getCache,\n    getNode: this.getNode,\n    getCachingNodes: this.getCachingNodes,\n  }\n\n  render() {\n    const { children = null } = this.props\n\n    return (\n      <AliveScopeProvider value={this.helpers}>\n        {children}\n        <div style={{ display: 'none' }}>\n          {[...this.nodes.values()].map(({ children, ...props }) => (\n            <Keeper\n              key={props.id}\n              {...props}\n              scope={this}\n              store={this.store}\n              keepers={this.keepers}\n              ref={(keeper) => {\n                this.keepers.set(props.id, keeper)\n              }}\n            >\n              {children}\n            </Keeper>\n          ))}\n        </div>\n      </AliveScopeProvider>\n    )\n  }\n}\n", "/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { forwardRef, useContext } from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { get, isFunction, isUndefined } from 'szfe-tools'\n\nimport { Acceptor } from './Bridge'\nimport NodeKey from './NodeKey'\nimport { AliveScopeConsumer, useScopeContext } from './context'\n\nfunction controllerCherryPick(controller) {\n  const {\n    drop,\n    dropScope,\n    refresh,\n    refreshScope,\n    clear,\n    getCachingNodes,\n  } = controller\n  return { drop, dropScope, refresh, refreshScope, clear, getCachingNodes }\n}\n\nexport const expandKeepAlive = (KeepAlive) => {\n  const renderContent = ({ idPrefix, helpers, props }) => {\n    const isOutsideAliveScope = isUndefined(helpers)\n\n    if (isOutsideAliveScope) {\n      console.error('You should not use <KeepAlive /> outside a <AliveScope>')\n    }\n\n    return isOutsideAliveScope ? (\n      get(props, 'children', null)\n    ) : (\n      <NodeKey prefix={idPrefix} key={props._nk} manualKey={props.cacheKey}>\n        {(nkId) => {\n          const id = props.cacheKey || nkId\n\n          return (\n            <Acceptor key={id} id={id}>\n              {(bridgeProps) => (\n                <KeepAlive\n                  key={id}\n                  {...props}\n                  {...bridgeProps}\n                  id={id}\n                  _helpers={helpers}\n                />\n              )}\n            </Acceptor>\n          )\n        }}\n      </NodeKey>\n    )\n  }\n  const HookExpand = ({ id: idPrefix, ...props }) =>\n    renderContent({ idPrefix, helpers: useScopeContext(), props })\n\n  const WithExpand = ({ id: idPrefix, ...props }) => (\n    <AliveScopeConsumer>\n      {(helpers) => renderContent({ idPrefix, helpers, props })}\n    </AliveScopeConsumer>\n  )\n\n  return isFunction(useContext) ? HookExpand : WithExpand\n}\n\nconst withAliveScope = (WrappedComponent) => {\n  const renderContent = ({ helpers, props, forwardedRef }) => (\n    <WrappedComponent {...props} {...helpers} ref={forwardedRef} />\n  )\n\n  const HookScope = ({ forwardedRef, ...props }) =>\n    renderContent({\n      helpers: controllerCherryPick(useScopeContext() || {}),\n      props,\n      forwardedRef,\n    })\n\n  const WithScope = ({ forwardedRef, ...props }) => (\n    <AliveScopeConsumer>\n      {(controller = {}) =>\n        renderContent({\n          helpers: controllerCherryPick(controller),\n          props,\n          forwardedRef,\n        })\n      }\n    </AliveScopeConsumer>\n  )\n\n  const HOCWithAliveScope = isFunction(useContext) ? HookScope : WithScope\n\n  if (isFunction(forwardRef)) {\n    const ForwardedRefHOC = forwardRef((props, ref) => (\n      <HOCWithAliveScope {...props} forwardedRef={ref} />\n    ))\n\n    return hoistStatics(ForwardedRefHOC, WrappedComponent)\n  } else {\n    return hoistStatics(HOCWithAliveScope, WrappedComponent)\n  }\n}\n\nexport const useAliveController = () => {\n  if (!isFunction(useContext)) {\n    return {}\n  }\n\n  const ctxValue = useScopeContext()\n\n  if (!ctxValue) {\n    return {}\n  }\n\n  return controllerCherryPick(ctxValue)\n}\n\nexport default withAliveScope\n", "import {\n  globalThis as root,\n  get,\n  run,\n  value,\n  isFunction,\n  isExist,\n  flatten,\n} from 'szfe-tools'\n\nfunction isScrollableNode(node = {}) {\n  if (!isExist(node)) {\n    return false\n  }\n\n  return (\n    node.scrollWidth > node.clientWidth || node.scrollHeight > node.clientHeight\n  )\n}\n\nfunction getScrollableNodes(from) {\n  if (!isFunction(get(root, 'document.querySelectorAll'))) {\n    return []\n  }\n\n  return [...value(run(from, 'querySelectorAll', '*'), []), from].filter(\n    isScrollableNode\n  )\n}\n\nexport default function saveScrollPosition(from) {\n  const nodes = [...new Set([...flatten(from.map(getScrollableNodes))])]\n\n  const saver = nodes.map((node) => [\n    node,\n    {\n      x: node.scrollLeft,\n      y: node.scrollTop,\n    },\n  ])\n\n  return function revert() {\n    saver.forEach(([node, { x, y }]) => {\n      node.scrollLeft = x\n      node.scrollTop = y\n    })\n  }\n}\n", "import React, { Component } from 'react'\nimport {\n  value,\n  get,\n  run,\n  globalThis as root,\n  nextTick,\n  isFunction,\n  isArray,\n  debounce,\n  flatten,\n} from 'szfe-tools'\n\nimport { expandKeepAlive } from './withAliveScope'\nimport {\n  LIFECYCLE_ACTIVATE,\n  LIFECYCLE_UNACTIVATE,\n  withActivation,\n} from './lifecycles'\nimport saveScrollPosition from '../helpers/saveScrollPosition'\n\nconst body = get(root, 'document.body')\nconst screenScrollingElement = get(\n  root,\n  'document.scrollingElement',\n  get(root, 'document.documentElement', {})\n)\n\nconst parseWhenResult = (res) => {\n  if (isArray(res)) {\n    return res\n  }\n\n  return [res]\n}\n\nclass KeepAlive extends Component {\n  static defaultProps = {\n    saveScrollPosition: true,\n  }\n\n  id = null // 用作 Keeper 识别 KeepAlive\n  isKeepAlive = true // 用作 Keeper 识别 KeepAlive\n  cached = false\n  constructor(props) {\n    super(props)\n    this.id = props.id\n    this.init()\n\n    // 继承响应父级 KeepAlive 的生命周期\n    ;[LIFECYCLE_ACTIVATE, LIFECYCLE_UNACTIVATE].forEach((lifecycleName) => {\n      this[lifecycleName] = () => {\n        const { id, _helpers } = this.props\n        const cache = _helpers.getCache(id)\n        const node = _helpers.getNode(id)\n        if (node && lifecycleName === LIFECYCLE_ACTIVATE) {\n          node.updateTime = Date.now()\n        }\n\n        const cached = lifecycleName === LIFECYCLE_UNACTIVATE\n\n        // 若组件即将卸载则不再触发缓存生命周期\n        if (!cache || cache.willDrop) {\n          // 若组件在父 KeepAlive 缓存期间被卸载，后续恢复后需重新触发 init\n          if (this.cached && !cached) {\n            this.init()\n          }\n          return\n        }\n\n        run(cache, lifecycleName)\n        cache.cached = cached\n        this.cached = cached\n      }\n    })\n  }\n\n  // DOM 操作将实际内容插入占位元素\n  inject = (didActivate = true) => {\n    const { id, saveScrollPosition, _helpers } = this.props\n    const cache = _helpers.getCache(id)\n    // DOM 操作有风险，try catch 护体\n    try {\n      // // 原计划不增加额外的节点，直接将 Keeper 中所有内容节点一一迁移\n      // // 后发现缺乏统一 react 认可的外层包裹，可能会造成 react dom 操作的错误\n      // // 且将导致 KeepAlive 进行 update 时需先恢复各 dom 节点的组件归属，成本过高\n      // // 故此处增加统一的 div 外层，Keeper 中与 KeepAlive 中各一个且外层不做移除处理\n      // this.parentNode = this.placeholder.parentNode\n      // cache.nodes.forEach(node => {\n      //   this.parentNode.insertBefore(node, this.placeholder)\n      // })\n      // this.parentNode.removeChild(this.placeholder)\n      // 将 AliveScopeProvider 中的渲染内容通过 dom 操作置回当前 KeepAlive\n      cache.nodes.forEach((node) => {\n        this.placeholder.appendChild(node)\n      })\n\n      if (didActivate && saveScrollPosition) {\n        // 恢复该节点下各可滚动元素的滚动位置\n        run(cache.revertScrollPos)\n      }\n    } catch (error) {\n      // console.error(error)\n    }\n  }\n\n  // DOM 操作将实际内容移出占位元素\n  eject = (willUnactivate = true) => {\n    const { id, _helpers } = this.props\n    const cache = _helpers.getCache(id)\n    const nodesNeedToSaveScrollPosition = flatten(\n      flatten([this.props.saveScrollPosition]).map((flag) => {\n        if (flag === true) {\n          return cache.nodes\n        }\n\n        if (flag === 'screen') {\n          return [screenScrollingElement, body]\n        }\n\n        return [...value(run(root, 'document.querySelectorAll', flag), [])]\n      })\n    ).filter(Boolean)\n\n    // DOM 操作有风险，try catch 护体\n    try {\n      if (willUnactivate && nodesNeedToSaveScrollPosition.length > 0) {\n        // 保存该节点下各可滚动元素的滚动位置\n        cache.revertScrollPos = saveScrollPosition(\n          nodesNeedToSaveScrollPosition\n        )\n      }\n\n      // // 原计划不增加额外的节点，直接将 Keeper 中所有内容节点一一迁移\n      // // 后发现缺乏统一 react 认可的外层包裹，可能会造成 react dom 操作的错误\n      // // 且将导致 KeepAlive 进行 update 时需先恢复各 dom 节点的组件归属，成本过高\n      // // 故此处增加统一的 div 外层，Keeper 中与 KeepAlive 中各一个且外层不做移除处理\n      // this.parentNode.insertBefore(this.placeholder, cache.nodes[0])\n      // cache.nodes.forEach(node => {\n      //   if (willUnactivate) {\n      //     this.parentNode.removeChild(node)\n      //   } else {\n      //     cache.wrapper.appendChild(node)\n      //   }\n      // })\n      // this.parentNode.insertBefore(this.placeholder, cache.nodes[0])\n      // 将 KeepAlive 中的节点恢复为原先的占位节点，保证卸载操作正常进行\n      cache.nodes.forEach((node) => {\n        if (willUnactivate) {\n          this.placeholder.removeChild(node)\n        } else {\n          cache.wrapper.appendChild(node)\n        }\n      })\n    } catch (error) {\n      // console.error(error)\n    }\n  }\n\n  init = () => {\n    const { _helpers, id, children, ...rest } = this.props\n\n    // 将 children 渲染至 AliveScopeProvider 中\n    _helpers\n      .keep(id, {\n        children,\n        getInstance: () => this,\n        ...rest,\n      })\n      .then((cache) => {\n        // fix #22\n        if (!cache) {\n          return\n        }\n\n        this.inject()\n\n        // 触发 didActivate 生命周期\n        if (cache.inited) {\n          run(this, LIFECYCLE_ACTIVATE)\n        } else {\n          cache.inited = true\n        }\n        this.cached = false\n      })\n  }\n\n  update = ({ _helpers, id, name, ...rest } = {}) => {\n    if (!_helpers || this.cached) {\n      return\n    }\n\n    // // 原先打算更新过程中先重置 dom 节点状态，更新后恢复 dom 节点\n    // // 但考虑到性能消耗可能过大，且可能因 dom 操作时机引发其他 react 渲染问题，故不使用\n    // // 对应 Keeper 处 componentDidUpdate 也注释起来不使用\n    // this.eject(false)\n    _helpers.update(id, {\n      name,\n      getInstance: () => this,\n      ...rest,\n    })\n    // this.inject(false)\n  }\n\n  // 利用 shouldComponentUpdate 提前触发组件更新\n  shouldComponentUpdate(nextProps) {\n    this.update(nextProps)\n\n    return false\n  }\n\n  // 组件卸载时重置 dom 状态，保证 react dom 操作正常进行，并触发 unactivate 生命周期\n  componentWillUnmount() {\n    const { id, _helpers, when: calcWhen = true } = this.props\n    const cache = _helpers.getCache(id)\n    const [when, isScope] = parseWhenResult(run(calcWhen))\n\n    if (!cache) {\n      return\n    }\n\n    this.eject()\n    delete cache.getInstance\n\n    if (!when) {\n      if (isScope) {\n        const needToDrop = [\n          cache,\n          ..._helpers.getScopeIds([id]).map((id) => _helpers.getCache(id)),\n        ].filter(Boolean)\n\n        needToDrop.forEach((cache) => {\n          cache.willDrop = true\n        })\n        nextTick(() => _helpers.dropScopeByIds([id]))\n      } else {\n        cache.willDrop = true\n        nextTick(() => _helpers.dropById(id))\n      }\n    }\n\n    // 触发 willUnactivate 生命周期\n    run(this, LIFECYCLE_UNACTIVATE)\n  }\n\n  render() {\n    return (\n      <div\n        key=\"keep-alive-placeholder\"\n        nodeKeyIgnore\n        className=\"ka-wrapper\"\n        ref={(node) => {\n          this.placeholder = node\n        }}\n      />\n    )\n  }\n}\n\n// 兼容 SSR 服务端渲染\nfunction SSRKeepAlive({ children }) {\n  return (\n    <div key=\"keep-alive-placeholder\" nodeKeyIgnore className=\"ka-wrapper\">\n      <div key=\"keeper-container\" nodeKeyIgnore className=\"ka-content\">\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default isFunction(get(root, 'document.getElementById'))\n  ? expandKeepAlive(withActivation(KeepAlive))\n  : SSRKeepAlive\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./lib/index.min.js');\n} else {\n  module.exports = require('./lib/index.js');\n}\n"],
  "mappings": "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",
  "names": ["isArray", "flatten", "isUndefined", "isNaN", "isNumber", "isFunction", "run", "debounce", "printWarning", "self", "Provider", "Consumer", "obj", "EventBus", "nextTick", "isNull", "isExist", "memoize", "memoizedFunc", "isObject", "value", "getImplementation", "getGlobal", "getKey2Id", "uuid", "map", "Map", "key2Id", "key", "id", "get", "toString", "set", "isArrReg", "genRenderPath", "node", "getNodeId", "fiberNode", "index", "nodeKey", "isArray", "test", "markNode", "x", "type", "y", "getKeyByCoord", "nodes", "handleNode", "mark", "undefined", "filter", "Boolean", "join", "getKeyByFiberNode", "__", "getKeyByNode", "NodeKey", "onHandleNode", "_reactInternalFiber", "_reactInternals", "__v", "getKeyByPreactNode", "props", "manualKey", "children", "prefix", "genKey", "Component", "isRegExp", "val", "RegExp", "aliveScopeContext", "createContext", "AliveScopeProvider", "Provider", "AliveScopeConsumer", "Consumer", "aliveNodeContext", "AliveNodeProvider", "AliveNodeConsumer", "eventBus", "_EventBus", "FakeScopeProvider", "_Component", "_inherits", "_super", "_createSuper", "props", "_this", "_classCallCheck", "call", "currentContextValue", "value", "_createClass", "key", "shouldComponentUpdate", "nextProps", "emit", "children", "render", "Component", "_defineProperty", "undefined", "FakeScopeConsumer", "_PureComponent", "_super2", "_this2", "_assertThisInitialized", "context", "_debounce", "nextContextValue", "setState", "on", "updateListener", "componentWillUnmount", "off", "state", "_run", "PureComponent", "_filehash", "useScopeContext", "_isFunction", "useContext", "scopeReactContext", "_useState", "useState", "_useState2", "_slicedToArray", "setContext", "useEffect", "fakeContextEventBus", "_ref", "_objectWithoutProperties", "_excluded", "React", "createElement", "AliveScopeReactProvider", "_extends", "_nk", "concat", "_ref2", "AliveScopeReactConsumer", "reactContext", "Suspender", "_len", "arguments", "length", "args", "Array", "_key", "apply", "_this$props", "freeze", "promiseCache", "promise", "Promise", "resolve", "Fragment", "Freeze", "_ref$placeholder", "placeholder", "Suspense", "fallback", "fixedContext", "updateListenerCache", "Map", "fixContext", "_memoize", "ctx", "_isExist", "includes", "ctxValue", "push", "setTimeout", "defaultValue", "calculateChangedBits", "createReactContext", "tryFixCtx", "type", "_get", "override", "configs", "forEach", "_ref3", "_toArray", "host", "methods", "slice", "method", "originMethod", "bind", "_isString", "_overridden", "autoFixContext", "_len2", "_key2", "err", "console", "warn", "ProviderBridge", "ctxValues", "_possibleConstructorReturn", "_ctxValues", "_ctxValues$", "onUpdate", "unmount", "propCtxValues", "filter", "Boolean", "_ctxValues2", "restValues", "nextChildren", "_isUndefined", "ConsumerWrapper", "id", "get", "fn", "ctxInfo", "updator", "set", "_objectSpread", "prevValue", "shouldUpdate", "_this$props2", "renderWrapper", "renderContent", "ctx$$", "_toConsumableArray", "fixedContextSnapshot", "RecursiveConsumerBridge", "renderChildren", "reduce", "isSupported", "lazy", "SusNotSupported", "Lazy", "FallbackListener", "componentDidMount", "SuspenseBridge", "sus$$", "onStart", "onSuspenseStart", "onEnd", "onSuspenseEnd", "LazyBridge", "_Component2", "suspense", "ErrorBoundaryBridge", "componentDidCatch", "error", "throwError", "error$$", "ErrorThrower", "cb", "Bridge", "bridgeProps", "Acceptor", "ConsumerBridge", "LIFECYCLE_ACTIVATE", "LIFECYCLE_UNACTIVATE", "withActivation", "WrappedComponent", "HOC", "drop", "forwardedRef", "attach", "ref", "every", "lifecycleName", "_isObject", "current", "prototype", "_componentDidMount", "_this3", "_nextTick", "forwardRef", "ForwardedRefHOC", "hoistStatics", "useActivation", "funcName", "func", "useRef", "some", "_useRef", "useActivate", "useUnactivate", "ReactFreeze", "Keeper", "rest", "nextState", "callback", "unmounted", "_listeners$set", "listeners", "isKeepAlive", "store", "cache", "aliveNodesId", "Set", "_ref2$delay", "delay", "timeout", "scope", "clearTimeout", "willDrop", "nodes", "helpers", "smartForceUpdate", "canDrop", "canRefresh", "safeSetState", "Math", "random", "_this$cache", "_this$props3", "node", "wrapper", "has", "e", "inited", "cached", "_this$props4", "keepers", "appendChild", "freezeTimeout", "listener", "reverse", "_ref4", "flushSync", "_this4", "_this$props5", "_this$props5$autoFree", "autoFreeze", "_this$state", "className", "contextValue", "Children", "map", "child", "idx", "cloneElement", "HANDLE_TYPE_DROP", "HANDLE_TYPE_REFRESH", "AliveScope", "forceUpdate", "updateCallbackList", "debouncedForceUpdate", "params", "keeper", "isNew", "now", "Date", "createTime", "updateTime", "update", "then", "name", "getCachingNodes", "test", "ids", "getCachingNodesId", "getCache", "size", "_flatten", "handleNodes", "_len3", "_key3", "getScopeIds", "_len4", "_key4", "getCachingNodesByName", "_this5", "_len5", "_key5", "dropScopeByIds", "_this6", "_len6", "_key6", "_this7", "_len7", "_key7", "_this8", "_len8", "_key8", "_this9", "_len9", "_key9", "refreshScopeByIds", "nodesId", "_len10", "_key10", "handleKeepers", "all", "responses", "_this10", "_len11", "_key11", "values", "keep", "dropScope", "dropById", "refresh", "refreshScope", "refreshById", "clear", "getNode", "_this11", "_this$props$children", "style", "display", "controllerCherryPick", "controller", "expandKeepAlive", "KeepAlive", "idPrefix", "isOutsideAliveScope", "NodeKey", "prefix", "manualKey", "cacheKey", "nkId", "_helpers", "HookExpand", "WithExpand", "_excluded2", "withAliveScope", "HookScope", "_ref5", "_excluded3", "WithScope", "_ref6", "_excluded4", "HOCWithAliveScope", "useAliveController", "isScrollableNode", "scrollWidth", "clientWidth", "scrollHeight", "clientHeight", "getScrollableNodes", "from", "_globalThis", "_value", "saveScrollPosition", "saver", "x", "scrollLeft", "y", "scrollTop", "revert", "_ref2$", "body", "screenScrollingElement", "parseWhenResult", "res", "_isArray", "didActivate", "revertScrollPos", "willUnactivate", "nodesNeedToSaveScrollPosition", "flag", "removeChild", "getInstance", "inject", "init", "_this$props5$when", "when", "calcWhen", "_parseWhenResult", "_parseWhenResult2", "isScope", "eject", "needToDrop", "SSRKeepAlive"]
}
